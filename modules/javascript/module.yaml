kind: Runtime.Module
metadata:
  name: "JavaScript"
  version: "1.0.0"
---
kind: "Runtime.Definition"
metadata:
  name: "JavaScriptDefinition"
  resourceKind: "Script"
  module: "JavaScript"
controllers:
  - runtime: nodejs
    registry: npm
    package: "@vokerun/javascript@1.0.0"
    entry: "./script"
  - runtime: nodejs
    registry: local
    package: "./nodejs"
    entry: "./script"
schema:
  type: "object"
  properties:
    metadata:
      type: "object"
      properties:
        name:
          type: "string"
      required: ["name"]
    code:
      type: "string"
    inputSchema:
      type: "object"
    outputSchema:
      type: "object"
  required: ["metadata", "code"]
---
kind: "Runtime.Definition"
metadata:
  name: "InlineScriptDefinition"
  resourceKind: "InlineScript"
  module: "JavaScript"
controllers:
  - runtime: nodejs
    registry: npm
    package: "@vokerun/javascript@1.0.0"
    entry: "./inline"
  - runtime: nodejs
    registry: local
    package: "./nodejs"
    entry: "./inline"
schema:
  type: "object"
  properties:
    metadata:
      type: "object"
      properties:
        name:
          type: "string"
      required: ["name"]
    code:
      type: "string"
    inputSchema:
      type: "object"
    outputSchema:
      type: "object"
  required: ["metadata", "code"]
