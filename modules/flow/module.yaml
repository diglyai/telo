kind: Runtime.Definition
metadata:
  name: FlowDefinition
  resourceKind: Flow
  module: Runtime
controllers:
  - runtime: nodejs
    registry: npm
    package: "@citorun/flow@1.0.0"
    entry: "./flow"
  - runtime: nodejs
    registry: local
    package: "./nodejs"
    entry: "./flow"
schema:
  type: object
  properties:
    steps:
      type: array
      items:
        type: object
        properties:
          invoke:
            type: object
            properties:
              kind:
                type: string
                description: Resource kind (e.g., Logic.JavaScript, HttpClient.Request)
        required:
          - invoke
  required:
    - steps
