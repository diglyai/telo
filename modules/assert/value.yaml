kind: ResourceDefinition
metadata:
  name: ValueDefinition
  resourceKind: Value
  module: Assert
controllers:
  - runtime: 'node@>=20 <23'
    entrypoint: './nodejs/value.ts'
  - runtime: 'bun@>=1.1'
    entrypoint: './nodejs/value.ts'
schema:
  type: object
  properties:
    metadata:
      type: object
      properties:
        name:
          type: string
      required:
        - name
    value:
      description: Value to assert (can be any type or expression)
    assertions:
      type: array
      items:
        type: string
      description: Array of CEL expressions that must evaluate to true
  required:
    - metadata
    - assertions
