kind: "Runtime.Definition"
metadata:
  name: "HttpServerDefinition"
  resourceKind: "Server"
  module: "Http"
controllers:
  - runtime: nodejs
    registry: npm
    package: "@telorun/http-server@1.0.0"
    entry: "./http-server"
  - runtime: nodejs
    registry: local
    package: "./nodejs"
    entry: "./http-server"
schema:
  type: "object"
  properties:
    host:
      type: "string"
      default: "localhost"
    port:
      type: "integer"
      minimum: 1
      maximum: 65535
    mounts:
      type: "array"
      items:
        type: "object"
        properties:
          path:
            type: "string"
          type:
            type: "string"
  required: ["port", "mounts"]
