kind: ResourceDefinition
metadata:
  name: RequestDefinition
  resourceKind: Request
  module: HttpClient
controllers:
  - runtime: 'node@>=20 <23'
    entrypoint: './nodejs/request.ts'
  - runtime: 'bun@>=1.1'
    entrypoint: './nodejs/request.ts'
schema:
  type: object
  properties:
    metadata:
      type: object
      properties:
        name:
          type: string
      required:
        - name
    method:
      type: string
      enum: [GET, POST, PUT, DELETE, PATCH, HEAD, OPTIONS]
      description: HTTP method
    url:
      type: string
      description: Full URL to request
    headers:
      type: object
      description: HTTP headers
    body:
      type: object
      description: Request body (automatically JSON stringified)
    timeout:
      type: integer
      description: Request timeout in milliseconds
  required:
    - metadata
    - method
    - url
