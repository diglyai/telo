---
# Test resources for logic-basic.test.yaml

kind: Logic.JavaScript
metadata:
  name: Greet
code: |
  function main({ name }) {
    return {
      message: `Hello ${name}!`
    }
  }
inputSchema:
  type: object
  properties:
    name:
      type: string
  required: ['name']

---
kind: Logic.JavaScript
metadata:
  name: Add
code: |
  function main({ a, b }) {
    return {
      result: a + b
    }
  }
inputSchema:
  type: object
  properties:
    a:
      type: number
    b:
      type: number
  required: ['a', 'b']

---
kind: Logic.InlineFunction
metadata:
  name: GreetFormal
code: |
  function main({ firstName, lastName }) {
    return {
      greeting: `Good day, ${firstName} ${lastName}`
    }
  }
inputSchema:
  type: object
  properties:
    firstName:
      type: string
    lastName:
      type: string
  required: ['firstName', 'lastName']

---
kind: Logic.JavaScript
metadata:
  name: Divide
code: |
  function main({ a, b }) {
    if (b === 0) {
      throw new Error("Division by zero");
    }
    return {
      result: a / b
    }
  }
inputSchema:
  type: object
  properties:
    a:
      type: number
    b:
      type: number
  required: ['a', 'b']

---
kind: Logic.JavaScript
metadata:
  name: ProcessData
code: |
  function main({ data }) {
    return {
      processed: data.toUpperCase(),
      timestamp: Date.now()
    }
  }
inputSchema:
  type: object
  properties:
    data:
      type: string
  required: ['data']

---
kind: Logic.JavaScript
metadata:
  name: ValidateAndProcess
code: |
  function main({ value }) {
    if (typeof value !== 'number') {
      throw new Error("Value must be a number");
    }
    return {
      valid: true,
      value: value,
      processed: value * 2
    }
  }
inputSchema:
  type: object
  properties:
    value:
      type: number
  required: ['value']

---
kind: Logic.JavaScript
metadata:
  name: GetStatus
code: |
  function main({}) {
    return {
      status: "ready",
      timestamp: Date.now()
    }
  }
inputSchema:
  type: object

---
kind: Logic.JavaScript
metadata:
  name: ComplexOperation
code: |
  function main({ mode }) {
    return {
      result: `Executed in ${mode} mode`,
      id: Math.random()
    }
  }
inputSchema:
  type: object
  properties:
    mode:
      type: string
  required: ['mode']

---
kind: Logic.JavaScript
metadata:
  name: Verify
code: |
  function main({ resultId }) {
    return {
      verified: true,
      resultId: resultId,
      timestamp: Date.now()
    }
  }
inputSchema:
  type: object
  properties:
    resultId:
      type: number
  required: ['resultId']
